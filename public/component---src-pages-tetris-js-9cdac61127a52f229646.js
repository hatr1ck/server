(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"i/zh":function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMi4xLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHZpZXdCb3g9IjAgMCAyMzMuNSA5OC43IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAyMzMuNSA5OC43OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPg0KCS5zdDB7ZmlsbDojRkYwMDEzO30NCjwvc3R5bGU+DQo8dGl0bGU+aHFkZWZhdWx0PC90aXRsZT4NCjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xMzQuOCw5LjRIMTI2djM1LjNoLTE4VjAuMWg2Ni45bDEuMSwzLjdsMy42LDAuOXYzOS44aC0xNy44VjkuM0gxNTN2MzUuNGgtMTguMlY5LjR6Ii8+DQo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNOTguNCw0NC44SDgxVjI3LjVoLTkuMnYxNy4zSDU0LjFWNWwzLjQtMS4zTDU4LjYsMGgzNS4yTDk1LDMuOGwzLjQsMVY0NC44eiBNNzIuMiw5LjR2OC4xaDguMlY5LjRINzIuMnoiLz4NCjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xOTksODEuNGgtOC45djE3LjJoLTE4VjU0aDM5LjhsMS4yLDMuN2wzLjcsMS4xdjEyLjRsLTQsMS42VjgwbDQuMSwxLjV2MTdIMTk5VjgxLjR6IE0xOTAuNCw2My4ydjguMmg4LjENCgl2LTguMkMxOTguNSw2My4yLDE5MC40LDYzLjIsMTkwLjQsNjMuMnoiLz4NCjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00OS45LDU0bDEuMSwzLjdsMy45LDEuM3YzNC44TDUxLDk1bC0xLDMuN0gxNWwtMS4yLTMuOWwtMy43LTAuN1Y1OWwzLjYtMS4zTDE1LDU0QzE1LDU0LDQ5LjksNTQsNDkuOSw1NHoNCgkgTTI4LjQsNjMuMnYyNi4xaDguMVY2My4ySDI4LjR6Ii8+DQo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNNjQuMSw1NEg4MnYzNS41aDguN1Y1NC4xaDE4djM5LjdMMTA1LDk1bC0xLjEsMy43SDY0LjFWNTR6Ii8+DQo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMTguNCwzNS41aDguMXYtNy45bC00LTEuMXYtOC41aDIyLjF2MjYuNWgtNDBsLTAuOS0zLjZMMCw0MC4xVjQuOWwzLjctMS4ybDAuOC0zLjdoNDAuMXY4LjdIMTguNEwxOC40LDM1LjUNCglMMTguNCwzNS41eiIvPg0KPHBhdGggY2xhc3M9InN0MCIgZD0iTTE5My42LDQ0LjZsLTAuOC0zLjdsLTMuOS0wLjhWNC45bDMuNy0xLjFsMS4xLTMuN2gzOS43djguOGgtMjYuNHY4LjdoMTIuOVYyN2gtMTN2OC42aDI2LjR2OUwxOTMuNiw0NC42DQoJTDE5My42LDQ0LjZ6Ii8+DQo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMTQ5LjIsNzIuMXY4LjhoLTEyLjhsLTAuNCw4LjhoMjYuN3Y5aC0zOS42bC0xLjMtMy42bC0zLjctMVY1OC45bDMuNi0xLjJsMS4yLTMuN2gzOS43djguNmgtMjYuMXY4LjkNCglMMTQ5LjIsNzIuMXoiLz4NCjwvc3ZnPg0K"},r7nO:function(t,e,a){t.exports=a.p+"static/buttons-3c6b0bbdd83f4e1f7edbf85d676b425f.svg"},v7gd:function(t,e,a){"use strict";a.r(e);a("XfO3"),a("HEwt"),a("a1Th"),a("Btvt"),a("rE2o"),a("ioFf"),a("rGqo"),a("bHtr");var r=a("q1tI"),n=a.n(r),s=(a("4Yvi"),a("r7nO")),u=a.n(s),o=a("i/zh"),i=a.n(o),c=a("LbRr");function l(t){return function(t){if(Array.isArray(t)){for(var e=0,a=new Array(t.length);e<t.length;e++)a[e]=t[e];return a}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var M=function(t){var e,a;function r(e){var a;return(a=t.call(this,e)||this).rotate=function(t){if(a.state.rotate){var e=t.length-1,r=t.map((function(a,r){return a.map((function(a,n){return t[e-n][r]}))}));t.length=0,t.push.apply(t,l(r)),a.drawField()}},a.moveRight=function(){a.state.moveRight&&(a.setState({position:{x:a.state.position.x+1,y:a.state.position.y},moveLeft:!0}),a.drawField())},a.moveLeft=function(){a.state.moveLeft&&(a.setState({position:{x:a.state.position.x-1,y:a.state.position.y},moveRight:!0}),a.drawField())},a.moveDown=function(){a.state.moveDown&&(a.setState({position:{x:a.state.position.x,y:a.state.position.y+1}}),a.drawField())},a.drawField=function(){if(a.figureCoordinates(),19===Math.max.apply(null,a.state.current))return a.start();var t=a.state.field,e=a.refs.canvas.getContext("2d");t.map((function(r,n){return r.forEach((function(r,s){if(a.state.current[0]===s&&a.state.current[1]===n||a.state.current[2]===s&&a.state.current[3]===n||a.state.current[4]===s&&a.state.current[5]===n||a.state.current[6]===s&&a.state.current[7]===n){9===Math.max(a.state.current[0],a.state.current[2],a.state.current[4],a.state.current[6])||1===t[a.state.current[1]][a.state.current[0]+1]||1===t[a.state.current[3]][a.state.current[2]+1]||1===t[a.state.current[5]][a.state.current[4]+1]||1===t[a.state.current[7]][a.state.current[6]+1]?a.setState({moveRight:!1}):a.setState({moveRight:!0});var u=0,o=0;1===t[a.state.current[1]][a.state.current[0]+1]&&o++,1===t[a.state.current[3]][a.state.current[2]+1]&&o++,1===t[a.state.current[5]][a.state.current[4]+1]&&o++,1===t[a.state.current[7]][a.state.current[6]+1]&&u++,1===t[a.state.current[1]][a.state.current[0]-1]&&o++,1===t[a.state.current[3]][a.state.current[2]-1]&&o++,1===t[a.state.current[5]][a.state.current[4]-1]&&o++,1===t[a.state.current[7]][a.state.current[6]-1]&&o++,u>1||o>1||u+o===2||[a.state.current[0],a.state.current[2],a.state.current[4],a.state.current[6]].filter((function(t){return 9===t||0===t})).length>2?a.setState({rotate:!1}):a.setState({rotate:!0}),0===Math.min(a.state.current[0],a.state.current[2],a.state.current[4],a.state.current[6])||1===t[a.state.current[1]][a.state.current[0]-1]||1===t[a.state.current[3]][a.state.current[2]-1]||1===t[a.state.current[5]][a.state.current[4]-1]||1===t[a.state.current[7]][a.state.current[6]-1]?a.setState({moveLeft:!1}):a.setState({moveLeft:!0}),void 0!==t[n+1]&&1===t[n+1][s]&&(t[a.state.current[1]][a.state.current[0]]=1,t[a.state.current[3]][a.state.current[2]]=1,t[a.state.current[5]][a.state.current[4]]=1,t[a.state.current[7]][a.state.current[6]]=1,a.setState({randomNumber:Math.floor(7*Math.random()),position:{x:4,y:0}}))}1===t[n][s]||a.state.current[0]===s&&a.state.current[1]===n||a.state.current[2]===s&&a.state.current[3]===n||a.state.current[4]===s&&a.state.current[5]===n||a.state.current[6]===s&&a.state.current[7]===n?(e.fillStyle="#ff9933",e.fillRect(s,n,1,1)):a.state.allGreen[0]===s&&a.state.allGreen[1]===n||a.state.allGreen[2]===s&&a.state.allGreen[3]===n||a.state.allGreen[4]===s&&a.state.allGreen[5]===n||a.state.allGreen[6]===s&&a.state.allGreen[7]===n?(t[a.state.allGreen[1]][a.state.allGreen[0]]=1,t[a.state.allGreen[3]][a.state.allGreen[2]]=1,t[a.state.allGreen[5]][a.state.allGreen[4]]=1,t[a.state.allGreen[7]][a.state.allGreen[6]]=1):(e.fillStyle="#009999",e.fillRect(s,n,1,1),t[n][s]=0)}))}));t:for(var r=t.length-1;r>0;r--){for(var n=0;n<t[r].length;n++)if(t[1][n],0===t[r][n])continue t;var s=t.splice(r,1)[0].fill(0);t.unshift(s),r++,a.setState({score:a.state.score+1}),a.newFigure()}a.setState({field:t,allGreen:[]});for(var u=0;u<t[1].length-1;u++)if(1===t[1][u]){clearInterval(a.intervalId),a.setState({rotate:!1,lastScore:a.state.score,moveDown:!1,score:0,speed:1e3,status:"Game",field:[[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0]]});break}},a.re=function(){a.setState({field:[[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0]]})},a.figureCoordinates=function(){var t=[];a.state.figures[a.state.randomNumber].forEach((function(e,r){e.forEach((function(e,n){0!==e&&(t.push(n+a.state.position.x),t.push(r+a.state.position.y))}))})),a.setState({current:t})},a.start=function(){a.setState({status:"",randomNumber:Math.floor(7*Math.random()),allGreen:[].concat(l(a.state.allGreen),l(a.state.current)),moveLeft:!0,moveRight:!0,position:{x:4,y:0}}),clearInterval(a.intervalId),a.intervalId=setInterval(a.moveDown,a.state.speed),a.drawField()},a.newFigure=function(){clearInterval(a.intervalId),a.intervalId=setInterval(a.moveDown,a.state.speed),a.setState({status:"",rotate:!0,moveLeft:!0,moveDown:!0,moveRight:!0,speed:a.state.speed-100})},a.state={randomNumber:1,status:"",score:0,lastScore:0,moveDown:!1,moveLeft:!1,moveRight:!1,rotate:!1,current:[],allGreen:[],speed:1050,field:[[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0]],position:{x:4,y:0},figures:[[[0,0,0,0],[0,0,0,0],[1,1,1,1],[0,0,0,0]],[[0,0,0],[1,1,1],[0,1,0]],[[1,1],[1,1]],[[1,1,0],[0,1,1],[0,0,0]],[[0,1,1],[1,1,0],[0,0,0]],[[0,0,1],[1,1,1],[0,0,0]],[[1,0,0],[1,1,1],[0,0,0]]]},a}a=t,(e=r).prototype=Object.create(a.prototype),e.prototype.constructor=e,e.__proto__=a;var s=r.prototype;return s.componentDidMount=function(){var t=this;this.refs.canvas.getContext("2d").scale(30,30),this.drawField(this.state.field),window.addEventListener("keydown",(function(e){68!==e.keyCode&&39!==e.keyCode||t.moveRight(),83!==e.keyCode&&40!==e.keyCode||t.moveDown(),65!==e.keyCode&&37!==e.keyCode||t.moveLeft(),87!==e.keyCode&&38!==e.keyCode||t.rotate(t.state.figures[t.state.randomNumber])})),this.setState({status:"Start"})},s.componentWillUnmount=function(){clearInterval(this.intervalId)},s.render=function(){return n.a.createElement("div",{className:"tetris"},n.a.createElement(c.a,null),"Game"===this.state.status?n.a.createElement("div",{className:"over"},n.a.createElement("img",{alt:"404",src:i.a,height:"100rem",className:"imgt"}),n.a.createElement("h1",null,"Lines cleared: ",this.state.lastScore),n.a.createElement("div",{className:"cont"},n.a.createElement("button",{className:"btn batan",onClick:this.newFigure},"RESET"))):null,"Start"===this.state.status?n.a.createElement("div",{className:"over"},n.a.createElement("img",{alt:"404",src:u.a,height:"150rem",className:"imgt"}),n.a.createElement("div",{className:"cont"},n.a.createElement("button",{className:"btn  batan",onClick:this.newFigure},"Start"))):null,n.a.createElement("div",{className:"wree"},n.a.createElement("canvas",{ref:"canvas",width:300,height:600})))},r}(r.Component);e.default=M}}]);
//# sourceMappingURL=component---src-pages-tetris-js-9cdac61127a52f229646.js.map