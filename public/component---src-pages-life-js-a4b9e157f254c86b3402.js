(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{3781:function(e,t,n){"use strict";n.r(t),n.d(t,"WIDTH",(function(){return s})),n.d(t,"HEIGHT",(function(){return c}));var a=n("q1tI"),r=n.n(a),l=(n("l+Yv"),n("cWnB")),o=n("LbRr");function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var s=800,c=600,u=function(e){function t(){return e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){var e=this.props,t=e.x,n=e.y;return r.a.createElement("div",{style:{background:"#73b76e",position:"absolute",left:20*t+1+"px",top:20*n+1+"px",width:"19px",height:"19px"}})},t}(r.a.Component),h=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={cells:[],isRunning:!1},n.runGame=function(){n.setState({isRunning:!0}),n.runIteration()},n.stopGame=function(){n.setState({isRunning:!1}),n.timeoutHandler&&(window.clearTimeout(n.timeoutHandler),n.timeoutHandler=null)},n.handleIntervalChange=function(e){n.setState(n.setState({interval:e.target.value}))},n.handleClick=function(e){var t=n.getElementOffset(),a=e.clientX-t.x,r=e.clientY-t.y,l=Math.floor(a/20),o=Math.floor(r/20);l>=0&&l<=n.cols&&o>=0&&o<=n.rows&&(n.board[o][l]=!n.board[o][l]),n.setState({cells:n.makeCells()})},n.handleRandom=function(){for(var e=0;e<n.rows;e++)for(var t=0;t<n.cols;t++)n.board[e][t]=Math.random()>=.5;n.setState({cells:n.makeCells()})},n.handleClear=function(){n.board=n.makeEmptyBoard(),n.setState({cells:n.makeCells()})},n.rows=30,n.cols=40,n.board=n.makeEmptyBoard(),n.boardRef=r.a.createRef(),n}i(t,e);var n=t.prototype;return n.runIteration=function(){var e=this;console.log("running iteration");for(var t=this.makeEmptyBoard(),n=0;n<this.rows;n++)for(var a=0;a<this.cols;a++){var r=this.calculateNeighbors(this.board,a,n);this.board[n][a]?t[n][a]=2===r||3===r:this.board[n][a]||3!==r||(t[n][a]=!0)}this.board=t,this.setState({cells:this.makeCells()}),this.timeoutHandler=window.setTimeout((function(){e.runIteration()}),100)},n.calculateNeighbors=function(e,t,n){for(var a=0,r=[[-1,-1],[-1,0],[-1,1],[0,1],[1,1],[1,0],[1,-1],[0,-1]],l=0;l<r.length;l++){var o=r[l],i=n+o[0],s=t+o[1];s>=0&&s<this.cols&&i>=0&&i<this.rows&&e[i][s]&&a++}return a},n.makeEmptyBoard=function(){for(var e=[],t=0;t<this.rows;t++){e[t]=[];for(var n=0;n<this.cols;n++)e[t][n]=!1}return e},n.makeCells=function(){for(var e=[],t=0;t<this.rows;t++)for(var n=0;n<this.cols;n++)this.board[t][n]&&e.push({x:n,y:t});return e},n.getElementOffset=function(){var e=this.boardRef.current.getBoundingClientRect(),t=document.documentElement;return{x:e.left+window.pageXOffset-t.clientLeft,y:e.top+window.pageYOffset-t.clientTop}},n.render=function(){var e=this.state.cells;return r.a.createElement("div",{className:"life"},r.a.createElement(o.a,null),r.a.createElement("div",{className:"lifePanel"},r.a.createElement("ul",null,r.a.createElement("h6",null,"The Rules:"),r.a.createElement("li",null,"Any live cell with two or three neighbors survives."),r.a.createElement("li",null,"Any dead cell with three live neighbors becomes a live cell."),r.a.createElement("li",null,"All other live cells die in the next generation. Similarly, all other dead cells stay dead."),r.a.createElement("h6",null,"Controls:")),r.a.createElement(l.a,{className:"lifeButton",onClick:this.handleRandom,variant:"primary"},"Randomize"),this.state.isRunning?r.a.createElement(l.a,{className:"lifeButton",onClick:this.stopGame,variant:"warning"},"Stop"):r.a.createElement(l.a,{className:"lifeButton",onClick:this.runGame,variant:"success"},"Start"),r.a.createElement(l.a,{className:"lifeButton",onClick:this.handleClear,variant:"secondary"},"Clear")),r.a.createElement("div",{className:"Board",style:{width:s,height:c,backgroundSize:"20px 20px"},onClick:this.handleClick,ref:this.boardRef},e.map((function(e){return r.a.createElement(u,{x:e.x,y:e.y,key:e.x+","+e.y})}))))},t}(r.a.Component);t.default=h}}]);
//# sourceMappingURL=component---src-pages-life-js-a4b9e157f254c86b3402.js.map